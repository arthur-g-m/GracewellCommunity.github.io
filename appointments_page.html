<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GraceWell Methodist Church</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="././css_files/appointments_page.css">
  <link rel="stylesheet" href="././css_files/global.css">
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js"></script>
</head>

<body>
  <div id="app">
    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <a class="navbar-brand" href="././index.html" target="_self"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a class="nav-link" href="././home_page.html" target="_self">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="././about_page.html" target="_self">About Us</a></li>
          <li class="nav-item"><a class="nav-link" href="././contact_page.html" target="_self">Contact</a></li>
          <li class="nav-item"><a class="nav-link" href="././donations_page.html" target="_self">Donations</a></li>
          <li class="nav-item"><a class="nav-link" href="././appointments_page.html" target="_self">Appointments</a></li>
          <li class="nav-item"><a class="nav-link" href="././get_involved_page.html" target="_self">Get Involved</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Sign In</a></li>
        </ul>
      </div>
    </nav>

    <!-- Header Image with Welcome Message -->
    <div class="header-image">
      <div class="center-panel right-aligned">
        <h1>Matthew 7:7-11 </h1>
        <p>“Ask, and it will be given to you; seek, and you will find; knock, and it will be opened to you. For everyone
          who asks receives, and the one who seeks finds, and to the one who knocks it will be opened. Or which one of
          you, if his son asks him for bread, will give him a stone? Or if he asks for a fish, will give him a serpent?
          If you then, who are evil, know how to give good gifts to your children, how much more will your Father who is
          in heaven give good things to those who ask him!</p>
      </div>
    </div>

    <!-- Page content -->
    <section class="content-section">
      <div class="container">
        <h1 class="content-header">Appointments</h1>
        <div class="row">
          <!-- Left side content -->
          <div class="col-md-6">
            <h3 class="content-header">Instructions</h3>

            <p><strong>1. Fill out Your Personal Information:</strong> Enter your <strong>First Name</strong> and <strong>Last Name</strong> in the respective fields. Provide your <strong>Cellphone</strong> number, which is required for contact. Optionally, you can also provide your <strong>Telephone</strong> number. Enter your <strong>Email Address</strong> so we can get in touch with you regarding your appointment.</p>

            <p><strong>2. Specify the Appointment Details and Submit Your Request:</strong> In the <strong>Subject Title</strong> field, briefly describe the purpose or topic of your appointment. In the <strong>Description</strong> field, provide more details about what you would like to discuss during the appointment. Once you've filled out all the necessary information, click the <strong>Submit</strong> button to send your appointment request.</p>

            <p><strong>3. Confirmation Email:</strong> Our church team will review your request and get back to you as soon as possible via the email address you provided. After submitting the form, you will receive a confirmation email acknowledging your request.</p>
          </div>
          <!-- Right side content -->
          <div class="col-md-6">
            <h3 class="content-header">Make an Appointment</h3>
            <!-- Appointment Form -->
            <form id="appointmentForm">
              <!-- Name and Surname -->
              <div class="form-row">
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First Name" required>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Last Name" required>
                </div>
              </div>
              <!-- Cellphone and Telephone -->
              <div class="form-row">
                <div class="form-group col-md-6">
                  <input type="tel" class="form-control" id="cellphone" name="cellphone" placeholder="Cellphone" required>
                </div>
                <div class="form-group col-md-6">
                  <input type="tel" class="form-control" id="telephone" name="telephone" placeholder="Telephone">
                </div>
              </div>
              <!-- Email Address -->
              <div class="form-group">
                <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required>
              </div>
              <!-- Subject Title -->
              <div class="form-group">
                <input type="text" class="form-control" id="subject" name="subject" placeholder="Subject Title" required>
              </div>
              <!-- Description -->
              <div class="form-group">
                <textarea class="form-control" id="description" name="description" rows="4" placeholder="Description"></textarea>
              </div>
              <br>
              <!-- Submit Button -->
            </form>
            <button id='signUpButton' name="signUpButton" class="btn btn-primary" value="Sign Up" > Submit</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <p class="footer-label">© GraceWell Methodist Church. All rights reserved.</p>
          <div class="footer-links">
            <p class="footer-label">Follow Us:</p>
            <!-- Facebook icon: https://www.flaticon.com/free-icons/facebook -->
            <a href="https://www.facebook.com/GraceWellMC/"><img src="././website_images/facebook-logo(edited).png"
                alt="facebook" class="footer-image"></a>
            <!-- Instagram icon: https://www.flaticon.com/free-icons/instagram-sketched -->
            <a href="https://www.instagram.com/gracewellmc/"><img
                src="././website_images/instagram-logo(edited).png" alt="instagram" class="footer-image"></a>
            <!-- LinkedIn icon: https://www.flaticon.com/free-icons/linkedin -->
            <a href="https://za.linkedin.com/in/gracewell-methodist-church-807389219"><img src="././website_images/linkedin-square-logo(edited).png" alt="linkedin"
                class="footer-image"></a>
            <p class="footer-label" style="margin-left: 30px;">Download Our App:</p>
            <!--App Store Icon: https://www.flaticon.com/free-icons/app-->
            <a href="#"><img src="././website_images/app-store-logo(edited).png" alt="appstore" class="footer-image"></a>
            <!--Play Store: https://www.flaticon.com/free-icons/playstore-->
            <a href="#"><img src="././website_images/google-playstore-logo(edited).png" alt="playstore"
                class="footer-image"></a>
          </div>
        </div>
      </div>
    </footer>
  </div>
  <!-- Bootstrap JS (Popper.js and jQuery are required for Bootstrap) -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <!-- Vue.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <!-- Custom JavaScript code -->
  <script src="././js_files/global.js"></script>
</body>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-app.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-database.js";
  import { getAuth } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-auth.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDhys7Y81Z0oyo10M1hIzg8t2wQIxxFMYA",
    authDomain: "gracewellweb.firebaseapp.com",
    databaseURL: "https://gracewellweb-default-rtdb.firebaseio.com",
    projectId: "gracewellweb",
    storageBucket: "gracewellweb.appspot.com",
    messagingSenderId: "652542325461",
    appId: "1:652542325461:web:59f3b4b82c09eedc4a285c"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const database= getDatabase(app);
  const auth = getAuth();


  signUpButton.addEventListener('click',(e)=>{
      
    var firstName = document.getElementById('firstName').value;
    var lastName = document.getElementById('lastName').value;
    var cellphone = document.getElementById('cellphone').value;
    var telephone = document.getElementById('telephone').value;
    var email = document.getElementById('email').value;
    var subject = document.getElementById('subject').value;
    var description = document.getElementById('description').value;

  alert("Form submitted!!");

  set(ref(database, 'Appointments/' + user.uid), {
          firstName: firstName,
          lastName: lastName,
          cellphone: cellphone,
          telephone: telephone,
          email: email,
          subject: subject,
          description: description,
        })
  // ...
.catch((error) => {
  const errorCode = error.code;
  const errorMessage = error.message;

  alert(errorMessage);
  // ..
});
  });
    </script>

<!--<script type="module">

const firebaseConfig = {
    apiKey: "AIzaSyDhys7Y81Z0oyo10M1hIzg8t2wQIxxFMYA",
    authDomain: "gracewellweb.firebaseapp.com",
    databaseURL: "https://gracewellweb-default-rtdb.firebaseio.com",
    projectId: "gracewellweb",
    storageBucket: "gracewellweb.appspot.com",
    messagingSenderId: "652542325461",
    appId: "1:652542325461:web:59f3b4b82c09eedc4a285c"
  };

  const app = firebase.initializeApp(firebaseConfig);

  var AptFormDB = firebase.database().ref("appointmentForm");

  document.getElementById('appointmentForm').addEventListener("submit", submitForm)

 function submitForm(e){
  e.preventDefault();
   
    var firstName = document.getElementById('firstName');
    var lastName = document.getElementById('lastName');
    var cellphone = document.getElementById('cellphone');
    var telephone = document.getElementById('telephone');
    var email = document.getElementById('email');
    var subject = document.getElementById('subject');
    var description = document.getElementById('description');

    saveAPTform(firstName.value, lastName.value, cellphone.value, telephone.value, email.value, subject.value, description.value);
 }

 const saveAPTform = ( firstName, lastName, cellphone, telephone, email, subject, description) => {
    var aptForm = AptFormDB.push();

    aptForm.set({
          firstName: firstName,
          lastName: lastName,
          cellphone: cellphone,
          telephone: telephone,
          email: email,
          subject: subject,
          description: description,
    })
 }

 const getElementVal = (id) => {
  return document.getElementById(id).value;
 }
</script>-->

</html>